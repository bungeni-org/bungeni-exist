<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:db="http://namespaces.objectrealms.net/rdb" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:zope="http://namespaces.zope.org/zope" xmlns:xf="http://www.w3.org/2002/xforms" dir="ltr" xml:lang="en">
    <head>
        <style type="text/css">
            body, html { font-family:helvetica,arial,sans-serif; font-size:90%; }
        </style>
        <link rel="stylesheet" type="text/css" href="./css/main.css"/>
        <xf:model>
            <xf:instance xmlns="">
                <data>
                    <modes>
                        <mode>add</mode>
                        <mode>view</mode>
                        <mode>edit</mode>
                        <mode>listing</mode>
                    </modes>
                </data>
            </xf:instance>
        </xf:model>
    </head>
    <body class="nihilo">
        <div id="header">
            <div id="appName"><!--Bungeni Configuration Editor--></div>
        </div>
        <img id="shadowTop" src="images/shad_top.jpg" alt=""/>     
        <!-- dialog in body -->
        <div id="dialog1" dojoType="dijit.Dialog" style="display:none;width: 400px;" title="add custom form" href="test.xhtml#formonly"/>
        <div id="dialog2" dojoType="dijit.Dialog" style="display:none;width: 400px;" title="add descriptor" href="test.xhtml#formonly"/>
        <div id="content">
            <div id="left-content">
                <div dojoType="dijit.Menu" id="navMenu">
                    <div dojoType="dijit.PopupMenuItem">
                        <span>
                            Types
                        </span>
                        <div dojoType="dijit.Menu" id="submenu">
                            <div dojoType="dijit.MenuItem" onClick="alert('new!');">add new</div>
                            <div dojoType="dijit.MenuSeparator"/>
                            <div dojoType="dijit.MenuItem">address.xml</div>
                            <div dojoType="dijit.PopupMenuItem">
                                <span>bill.xml</span>
                                <div dojoType="dijit.Menu" id="formsMenu">
                                    <div dojoType="dijit.MenuItem" onclick="window.open('custom.html')">forms</div>
                                    <div dojoType="dijit.MenuItem">workflows</div>
                                    <div dojoType="dijit.MenuItem">workspace</div>
                                </div>
                            </div>
                            <div dojoType="dijit.MenuItem">agenda_item.xml</div>
                            <div dojoType="dijit.MenuItem">question.xml</div>
                            <div dojoType="dijit.MenuItem">motion.xml</div>
                            <div dojoType="dijit.MenuItem">committee.xml</div>
                            <div dojoType="dijit.MenuItem">sitting.xml</div>
                            <div dojoType="dijit.MenuItem">report.xml</div>
                            <div dojoType="dijit.MenuItem">user.xml</div>
                            <div dojoType="dijit.MenuItem">group_member.xml</div>
                            <div dojoType="dijit.MenuItem">...</div>
                        </div>
                    </div>
                    <div dojoType="dijit.MenuSeparator"/>
                    <div dojoType="dijit.MenuItem" onClick="alert('Roles!')">Roles</div>
                    <div dojoType="dijit.MenuItem" onClick="alert('Le DB!')">DB</div>
                    <div dojoType="dijit.MenuItem" onClick="alert('OpenOFFice!')">OpenOffice</div>
                </div>
            </div>
            <div id="right-content">
                <div id="toolbar1" dojoType="dijit.Toolbar">
                    <div dojoType="dijit.form.Button" id="toolbar1.formslist" href="feature.html">
                        <a href="feature.html">features</a>
                    </div>
                    <div dojoType="dijit.form.Button" id="toolbar1.customui" onClick="showDialog()">add form</div>
                </div>
                <div style="width: 100%; height: 300px">
                    <br/>
                    <br/>
                    <table style="width:100%;">
                        <thead>
                            <tr>
                                <th>Form Name</th>
                                <th>Description</th>
                                <th colspan="2">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <a href="custom1.html">custom 1</a>
                                </td>
                                <td>
                                    custom 1 description
                                </td>
                                <td id="C59" style="color:blue;">
                                    <input type="button" value="edit"/>
                                </td>
                                <td id="C64" style="color:red;">
                                    <input type="button" value="delete"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <a href="custom1.html">custom 2</a>
                                </td>
                                <td>
                                    custom 2 description
                                </td>
                                <td id="C59" style="color:blue;">
                                    <input type="button" value="edit"/>
                                </td>
                                <td id="C64" style="color:red;">
                                    <input type="button" value="delete"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <a href="custom1.html">custom 3</a>
                                </td>
                                <td>
                                    custom 3 description
                                </td>
                                <td id="C59" style="color:blue;">
                                    <input type="button" value="edit"/>
                                </td>
                                <td id="C64" style="color:red;">
                                    <input type="button" value="delete"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <a href="custom1.html">ui</a>
                                </td>
                                <td>
                                    ui description
                                </td>
                                <td id="C59" style="color:blue;">
                                    <input type="button" value="edit"/>
                                </td>
                                <td id="C64" style="color:red;">
                                    &#160;
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <script type="text/javascript" defer="defer">
        dojo.require("dijit.Menu","dijit.PopupMenuBarItem","dijit.MenuItem","dijit.MenuSeparator","dijit.DropDownMenu","dijit.PopupMenuItem"); 
            
        function selectAll() {
            var resultDiv = dojo.byId("resultDiv");
     
            alert("OLA");
            request.get("untitled.txt").then(
                function(response){
                    resultDiv.innerHTML = "&lt;pre&gt;"+response+"&lt;/pre&gt;";
                },
                function(error){
                    alert("OLAAAA");
                    resultDiv.innerHTML = "&lt;div class='error'&gt;"+error+"&lt;div&gt;";
                }
            );
        }         
        
		// various function ripped out of inline script type=dojo/* blocks
		function showDialog(){
			var dlg = dijit.byId('dialog1');
			dlg.show();
			// avoid (trying to) restore focus to a closed menu, go to MenuBar instead
			dlg._savedFocus = dojo.byId("header");
		}        
     
        <![CDATA[
        dojo.addOnLoad(function(){
            dojo.subscribe("/xf/ready", function() {
                fluxProcessor.skipshutdown=true;
            });
        });
       ]]></script>
    </body>
</html>