<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:db="http://namespaces.objectrealms.net/rdb" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:zope="http://namespaces.zope.org/zope" xmlns:xf="http://www.w3.org/2002/xforms" dir="ltr" xml:lang="en">
    <head>
        <style type="text/css">
            body, html { font-family:helvetica,arial,sans-serif; font-size:90%; }
        </style>
        <link rel="stylesheet" type="text/css" href="./css/main.css"/>
        <xf:model>
            <xf:instance xmlns="">
                <data>
                    <modes>
                        <mode>add</mode>
                        <mode>view</mode>
                        <mode>edit</mode>
                        <mode>listing</mode>
                    </modes>
                </data>
            </xf:instance>
        </xf:model>
    </head>
    <body class="nihilo">
        <div id="header">
            <div id="appName"><!--Bungeni Configuration Editor--></div>
        </div>
        <img id="shadowTop" src="images/shad_top.jpg" alt=""/>
        <div id="content">
            <div id="left-content">
                <div dojoType="dijit.Menu" id="navMenu">
                    <div dojoType="dijit.PopupMenuItem">
                        <span>
                            Types
                        </span>
                        <div dojoType="dijit.Menu" id="submenu">
                            <div dojoType="dijit.MenuItem" onClick="alert('new!');">add new</div>
                            <div dojoType="dijit.MenuSeparator"/>
                            <div dojoType="dijit.PopupMenuItem">
                                <span>address.xml</span>
                                <div dojoType="dijit.Menu" id="formsMenu">
                                    <div dojoType="dijit.MenuItem" onclick="window.open('custom1.html')">forms</div>
                                    <div dojoType="dijit.MenuItem">workflows</div>
                                    <div dojoType="dijit.MenuItem">workspace</div>
                                </div>
                            </div>
                            <div dojoType="dijit.MenuItem">bill.xml</div>
                            <div dojoType="dijit.MenuItem">agenda_item.xml</div>
                            <div dojoType="dijit.MenuItem">question.xml</div>
                            <div dojoType="dijit.MenuItem">motion.xml</div>
                            <div dojoType="dijit.MenuItem">committee.xml</div>
                            <div dojoType="dijit.MenuItem">sitting.xml</div>
                            <div dojoType="dijit.MenuItem">report.xml</div>
                            <div dojoType="dijit.MenuItem">user.xml</div>
                            <div dojoType="dijit.MenuItem">group_member.xml</div>
                            <div dojoType="dijit.MenuItem">...</div>
                        </div>
                    </div>
                    <div dojoType="dijit.MenuSeparator"/>
                    <div dojoType="dijit.MenuItem" onClick="alert('Roles!')">Roles</div>
                    <div dojoType="dijit.MenuItem" onClick="alert('Le DB!')">DB</div>
                    <div dojoType="dijit.MenuItem" onClick="alert('OpenOFFice!')">OpenOffice</div>
                </div>
            </div>
            <div id="right-content">
                <div style="width: 100%; height: 300px">
                    <div dojoType="dijit.layout.TabContainer" style="width: 100%; height: 100%;">
                        <div dojoType="dijit.layout.ContentPane" title="States" id="resultDiv" selected="true">
                            <div id="toolbar1" dojoType="dijit.Toolbar">
                                <div dojoType="dijit.form.Button" onClick="showDialog()">add a state</div>
                            </div>                             
                            Edit states here...
                        </div>
                        <div dojoType="dijit.layout.ContentPane" title="Transitions" selected="true">
                            <div id="toolbar2" dojoType="dijit.Toolbar">
                                <div dojoType="dijit.form.Button" onClick="showDialog()">add a transition</div>
                            </div>                             
                            Edit transitions here...
                        </div>
                    </div>
                </div>
                <br/>
                <button id="textButton" onCLick="javascript:selectAll();">Request Text File</button>
                load the bungeni_custom folder under <i>
                    <b>/db/config_editor/bungeni_custom</b>
                </i> space                
            </div>
        </div>
        <script type="text/javascript" defer="defer">
        dojo.require("dojo/request","dijit.Menu","dijit.MenuItem","dijit.MenuSeparator","dijit.DropDownMenu","dijit.PopupMenuItem"); 
            
        function selectAll() {
            var resultDiv = dojo.byId("resultDiv");
     
            alert("OLA");
            request.get("untitled.txt").then(
                function(response){
                    resultDiv.innerHTML = "&lt;pre&gt;"+response+"&lt;/pre&gt;";
                },
                function(error){
                    alert("OLAAAA");
                    resultDiv.innerHTML = "&lt;div class='error'&gt;"+error+"&lt;div&gt;";
                }
            );
        }             
     
        <![CDATA[
        dojo.addOnLoad(function(){
            dojo.subscribe("/xf/ready", function() {
                fluxProcessor.skipshutdown=true;
            });
        });
       ]]></script>
    </body>
</html>