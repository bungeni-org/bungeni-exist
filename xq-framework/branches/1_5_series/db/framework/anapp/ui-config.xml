<?xml version="1.0" encoding="UTF-8"?>
<!-- 
    
    This file is the UI configuration file used by the System 
    It describes date formats , route navigations and tab structures for the application
-->
<ui xmlns:i18n="http://exist-db.org/xquery/i18n">

    <!-- GENERAL FORMAT PREFERNCES -->
    <!-- "http://exist-db.org/xquery/i18n" 
        specify date and datetime formats here , these formats are used by the XSLT scripts
        We use the XSLT date formatting style to format dates
    -->
    <format type="datetime">[D1o] [MNn,*-3], [Y] - [h]:[m]:[s] [P,2-2]</format>
    <format type="date">[D1o] [MNn,*-3], [Y]</format>

    <!-- LISTING CONFIG PREFERNCES -->
    <listings>
        <!-- limits the number of items shown on a listing page -->
        <limit>5</limit>
        <!-- number of pages linked on the paginator before showing next -->
        <visiblePages>3</visiblePages>
    </listings>
    
    <!-- APPLICATION ROUTING -->
    <!--
        Route Map
        This describes properties associated with every url supported by the application.
        The route map describes what will be the default title used on the page resolving to the route,
        also describes what the active navigation and subnavigation for the route. Eventually this can 
        be used to render a breadcrumb
        -->
    <routes>
        <!--
            href - the incoming url, this is used to load the main menu
            navigation - specifies the active navigation level 1"http://exist-db.org/xquery/i18n" 
            subnavigation - specifies te active navigation level 2
            -->
        <route href="/">
            <navigation>home</navigation>
            <title>Home</title>
        </route>
        <route href="/home">
            <navigation>home</navigation>
            <title>Home</title>
        </route>
        <route href="/search-all">
            <navigation>home</navigation>
            <title>Search</title>
        </route>
        <route href="/search">
            <navigation>business</navigation>
            <title>Search</title>
        </route>
        <route href="/business">
            <title>Business</title>
            <navigation>business</navigation>
        </route>       
        <!-- #BILLS -->
        <route href="/bills">
            <title>Business | Bills</title>
            <navigation>business</navigation>
            <subnavigation>bills</subnavigation>
        </route>
        <route href="/bill/text">
            <title>Business | Bill</title>
            <navigation>business</navigation>
            <subnavigation>bills</subnavigation>
        </route>
        <route href="/bill/timeline">
            <title>Business | Bill</title>
            <navigation>business</navigation>
            <subnavigation>bills</subnavigation>
        </route>
        <route href="/bill/details">
            <title>Business | Bill</title>
            <navigation>business</navigation>
            <subnavigation>bills</subnavigation>
        </route>
        <!-- #QUESTIONS -->
        <route href="/questions">
            <title>Business | Questions </title>
            <navigation>business</navigation>
            <subnavigation>questions</subnavigation>
        </route>
        <route href="/question/text">
            <title>Business | Question Text</title>
            <navigation>business</navigation>
            <subnavigation>questions</subnavigation>
        </route>
        <route href="/question/timeline">
            <title>Business | Question Timeline</title>
            <navigation>business</navigation>
            <subnavigation>questions</subnavigation>
        </route>
        <route href="/question/details">
            <title>Business | Related Infomation</title>
            <navigation>business</navigation>
            <subnavigation>questions</subnavigation>
        </route>
    </routes>
    
    <!--
       MENU GROUPS
        -->
    <menugroups>
        
        <!-- 
            The menu navigation is defined here 
            The menus themselves are defined in XHTML 
                - the main navigation uses the id "mainnav"
                - the sub navigation uses the id "subnav"
                - the for attribute refers to a /route/navigation
        -->
        <menu name="mainnav" for="/">
            <div xmlns="http://www.w3.org/1999/xhtml" id="mainnav" class="menu">
                <ul class="theme-lev-1" id="portal-globalnav">
                    <li>
                        <a name="home" href="home">
                            <i18n:text key="home">home</i18n:text>
                        </a>
                    </li>
                    <li>
                        <a name="business" href="business">
                            <i18n:text key="business">business</i18n:text>
                        </a>
                    </li>
                </ul>
            </div>
        </menu>
        <menu name="home" for="home">
            <div xmlns="http://www.w3.org/1999/xhtml" id="subnav" class="submenu">
                <ul id="portal-home">
                    <li/>
                </ul>
            </div>
        </menu>
        <menu name="business" for="business">
            <div xmlns="http://www.w3.org/1999/xhtml" id="subnav" class="submenu">
                <ul class="theme-lev-1" id="portal-personaltools">
                    <li>
                        <a name="bills" href="bills">
                            <i18n:text key="bills">bills(nt)</i18n:text>
                        </a>
                    </li>
                    <li>
                        <a name="questions" href="questions">
                            <i18n:text key="questions">questions(nt)</i18n:text>
                        </a>
                    </li>
                    <li>
                        <a name="reports" href="reports">
                            <i18n:text key="reports">reports(nt)</i18n:text>
                        </a>
                    </li>
                    <li>
                        <a name="debates" href="debates">
                            <i18n:text key="debates">debates(nt)</i18n:text>
                        </a>
                    </li>
                    <li>
                        <a name="judgements" href="judgements">
                            <i18n:text key="judgements">judgements(nt)</i18n:text>
                        </a>
                    </li>
                    <li>
                        <a name="gazettes" href="gazettes">
                            <i18n:text key="gazettes">gazettes(nt)</i18n:text>
                        </a>
                    </li>
                </ul>
            </div>
        </menu>
    </menugroups>
    
    <!-- 
       DOWNLOAD FORMATS
    -->
    <downloadgroups>
        <rendergroup name="listings">
            <format type="rss" href="null">Subscribe to Atom RSS feed</format>
            <format type="print" href="null">Print this listing</format>
        </rendergroup>
        <rendergroup name="parl-doc">
            <format type="xml" href="null">Download XML format</format>
        </rendergroup>
    </downloadgroups>

    <!--
        Tab Groups
        -->
    <viewgroups>
        <views name="bill">
            <view path="bills" id="listing" tag="listing">
                <template>bills.xml</template>
                <xsl>legislativeitem-listing.xsl</xsl>
            </view>
            <view path="bill/text" id="text" tag="tab">
                <title>
                    <i18n:text key="tab-text">text(nt)</i18n:text>
                </title>
                <template>bill.xml</template>
                <xsl>akomantoso.xsl</xsl>
            </view>
            <view path="bill/timeline" id="timeline" tag="tab" check-for="(bu:changes/child::node())">
                <title>
                    <i18n:text key="tab-history">history(nt)</i18n:text>
                </title>
                <template>changes.xml</template>
                <xsl>akomantoso.xsl</xsl>
            </view>
            <view path="bill/details" id="related" tag="tab">
                <title>
                    <i18n:text key="tab-details">details(nt)</i18n:text>
                </title>
                <template>details.xml</template>
                <xsl>akomantoso.xsl</xsl>
            </view>
        </views>
        <views name="question">
            <view path="question/text" id="text" tag="tab">
                <title>
                    <i18n:text key="tab-text">text(nt)</i18n:text>
                </title>
                <template>question.xml</template>
                <xsl>akomantoso.xsl</xsl>
            </view>
            <view path="question/timeline" id="timeline" tag="tab" check-for="(bu:changes/child::node())">
                <title>
                    <i18n:text key="tab-history">history(nt)</i18n:text>
                </title>
                <template>changes.xml</template>
                <xsl>akomantoso.xsl</xsl>
            </view>
            <view path="question/details" id="related" tag="tab">
                <title>
                    <i18n:text key="tab-details">details(nt)</i18n:text>
                </title>
                <template>details.xml</template>
                <xsl>akomantoso.xsl</xsl>
            </view>
        </views>
    </viewgroups> 

    <!-- Document Types
        <doctype category="document">   The generic type of a document. Used in advanced search to group types, its 
                                        derived from document type themselves itself.
        <doctype name="group"> Defines the configuration parameter for the named document type 
        <orderby/>      Defines the order by options that are available for that document types
        <searchins/>    Defines the search filter options that are available for the type of document speficied
        searchin/@field parameter must be a node path relative to bu:ontology.
        -->
    <doctypes>
        <doctype category="document" name="bill">
            <orderbys>
                <orderby value="st_date_oldest" order="asc">status date [oldest]</orderby>
                <orderby value="st_date_newest" order="desc">status date [newest]</orderby>
            </orderbys>
            <searchins>
                <searchin name="all" value="all" field=".">Entire Document</searchin>
                <searchin name="f_t" value="title" field="bu:legislativeItem/bu:shortName" default="true">Title</searchin>
                <searchin name="f_b" value="body" field="bu:legislativeItem/bu:body">Body</searchin>
                <searchin name="f_d" value="docno" field="bu:legislativeItem/bu:registryNumber">Doc No.</searchin>
            </searchins>
            <listingfilters>
                <listingfilter id="uc" name="current">not(contains(bu:tags/bu:tag,'terminal'))</listingfilter>
                <listingfilter id="archive" name="archived">contains(bu:tags/bu:tag,'terminal')</listingfilter>
            </listingfilters>
        </doctype>
        <doctype category="document" name="question">
            <orderbys>
                <orderby value="st_date_oldest" order="asc">status date [oldest]</orderby>
                <orderby value="st_date_newest" order="desc">status date [newest]</orderby>
                <orderby value="sub_date_oldest" order="asc">submission date [oldest]</orderby>
                <orderby value="sub_date_newest" order="desc">submission date [newest]</orderby>
            </orderbys>
            <searchins>
                <searchin name="all" value="all" field=".">Entire Document</searchin>
                <searchin name="f_t" value="title" field="bu:legislativeItem/bu:shortName" default="true">Title</searchin>
                <searchin name="f_b" value="body" field="bu:legislativeItem/bu:body">Body</searchin>
                <searchin name="f_d" value="docno" field="bu:legislativeItem/bu:registryNumber">Doc No.</searchin>
            </searchins>
            <listingfilters>
                <listingfilter id="uc" name="under consideration">not(contains(bu:tags/bu:tag,'terminal'))</listingfilter>
                <listingfilter id="archive" name="archived">contains(bu:tags/bu:tag,'terminal')</listingfilter>
            </listingfilters>
        </doctype>
        <doctype category="document" name="motion">
            <orderbys>
                <orderby value="st_date_oldest" order="asc">status date [oldest]</orderby>
                <orderby value="st_date_newest" order="desc">status date [newest]</orderby>
                <orderby value="sub_date_oldest" order="asc">submission date [oldest]</orderby>
                <orderby value="sub_date_newest" order="desc">submission date [newest]</orderby>
            </orderbys>
            <searchins>
                <searchin name="all" value="all" field=".">All</searchin>
                <searchin name="f_t" value="title" field="bu:legislativeItem/bu:shortName" default="true">Title</searchin>
                <searchin name="f_b" value="body" field="bu:legislativeItem/bu:body">Body</searchin>
                <searchin name="f_d" value="docno" field="bu:legislativeItem/bu:registryNumber">Doc No.</searchin>
            </searchins>
            <listingfilters>
                <listingfilter id="uc" name="under consideration">not(contains(bu:tags/bu:tag,'terminal'))</listingfilter>
                <listingfilter id="archive" name="archived">contains(bu:tags/bu:tag,'terminal')</listingfilter>
            </listingfilters>
        </doctype>
        <doctype category="document" name="tableddocument">
            <orderbys>
                <orderby value="st_date_oldest" order="asc">status date [oldest]</orderby>
                <orderby value="st_date_newest" order="desc">status date [newest]</orderby>
                <orderby value="sub_date_oldest" order="asc">submission date [oldest]</orderby>
                <orderby value="sub_date_newest" order="desc">submission date [newest]</orderby>
            </orderbys>
            <searchins>
                <searchin name="all" value="all" field=".">Entire Document</searchin>
                <searchin name="f_t" value="title" field="bu:legislativeItem/bu:shortName" default="true">Title</searchin>
                <searchin name="f_b" value="body" field="bu:legislativeItem/bu:body">Body</searchin>
                <searchin name="f_d" value="docno" field="bu:legislativeItem/bu:registryNumber">Doc No.</searchin>
            </searchins>
            <listingfilters>
                <listingfilter id="uc" name="under consideration">not(contains(bu:tags/bu:tag,'terminal'))</listingfilter>
                <listingfilter id="archive" name="archived">contains(bu:tags/bu:tag,'terminal')</listingfilter>
            </listingfilters>
        </doctype>
        <doctype category="document" name="agendaitem">
            <orderbys>
                <orderby value="st_date_oldest" order="asc">status date [oldest]</orderby>
                <orderby value="st_date_newest" order="desc">status date [newest]</orderby>
                <orderby value="sub_date_oldest" order="asc">submission date [oldest]</orderby>
                <orderby value="sub_date_newest" order="desc">submission date [newest]</orderby>
            </orderbys>
            <searchins>
                <searchin name="all" value="all" field=".">Entire Document</searchin>
                <searchin name="f_t" value="title" field="bu:legislativeItem/bu:shortName" default="true">Title</searchin>
                <searchin name="f_b" value="body" field="bu:legislativeItem/bu:body">Body</searchin>
                <searchin name="f_d" value="docno" field="bu:legislativeItem/bu:registryNumber">Doc No.</searchin>
            </searchins>
            <listingfilters>
                <listingfilter id="uc" name="under consideration">not(contains(bu:tags/bu:tag,'terminal'))</listingfilter>
                <listingfilter id="archive" name="archived">contains(bu:tags/bu:tag,'terminal')</listingfilter>
            </listingfilters>
        </doctype>
        <doctype category="document" name="event"/>
        <doctype category="group" name="committee">
            <orderbys>
                <orderby value="st_date_oldest" order="asc">status date [oldest]</orderby>
                <orderby value="st_date_newest" order="desc">status date [newest]</orderby>
            </orderbys>
            <searchins>
                <searchin name="all" value="all" field=".">Entire Document</searchin>
                <searchin name="fn" value="fname" field="bu:legislature/bu:fullName" default="true">Full Name</searchin>
                <searchin name="sn" value="sname" field="bu:legislature/bu:shortName">Short Name</searchin>
                <searchin name="ds" value="desc" field="bu:legislature/bu:description">Description</searchin>
            </searchins>
        </doctype>
        <doctype category="group" name="political-group">
            <orderbys>
                <orderby value="st_date_oldest" order="asc">status date [oldest]</orderby>
                <orderby value="st_date_newest" order="desc">status date [newest]</orderby>
            </orderbys>
            <searchins>
                <searchin name="all" value="all" field=".">Entire Document</searchin>
                <searchin name="fn" value="fname" field="bu:group/bu:fullName" default="true">Full Name</searchin>
                <searchin name="sn" value="sname" field="bu:group/bu:shortName">Short Name</searchin>
                <searchin name="ds" value="desc" field="bu:group/bu:description">Description</searchin>
            </searchins>
            <listingfilters>
                <listingfilter id="uc" name="under consideration">not(contains(bu:tags/bu:tag,'terminal'))</listingfilter>
                <listingfilter id="ar" name="archived">contains(bu:tags/bu:tag,'terminal')</listingfilter>
            </listingfilters>
        </doctype>
        <doctype category="group" name="office"/>
        <doctype category="group" name="ministry"/>
        <doctype category="group" name="government"/>
        <doctype category="group" name="groupsitting"/>
        <doctype category="membership" name="membership">
            <orderbys>
                <orderby value="st_date_oldest" order="asc">status date [oldest]</orderby>
                <orderby value="st_date_newest" order="desc">status date [newest]</orderby>
            </orderbys>
            <searchins>
                <searchin name="all" value="all" field=".">Entire Document</searchin>
                <searchin name="fn" value="fstname" field="bu:membership/bu:firstName" default="true">First Name</searchin>
                <searchin name="ln" value="lsname" field="bu:membership/bu:lastName">Last Name</searchin>
                <searchin name="ds" value="desc" field="bu:membership/bu:description">Description</searchin>
            </searchins>
            <listingfilters>
                <listingfilter name="under consideration">bu:tags[not(contains(bu:tag,'terminal'))]</listingfilter>
                <listingfilter name="archived">bu:tags[contains(bu:tag,'terminal')]</listingfilter>
            </listingfilters>
        </doctype>
        <doctype category="address" name="address"/>
        <doctype category="report" name="report"/>
    </doctypes>
    
    <!-- Document status types -->
    <statuses>
        <status>attached</status>
        <status>active</status>
        <status>admissible</status>
        <status>gazetted</status>
        <status>response_completed</status>
        <status>published_agenda</status>
        <status>public</status>
    </statuses>
</ui>