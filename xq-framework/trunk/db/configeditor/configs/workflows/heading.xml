<?xml version="1.0" encoding="UTF-8"?>
<workflow title="Heading Workflow" description="Workflow for headings" tags="public tobescheduled" permission_actions=".View .Edit .Add .Delete">

    <!-- global grants -->
    <grant permission="bungeni.heading.Edit" role="bungeni.Clerk"/>
    <grant permission="bungeni.heading.Edit" role="bungeni.Speaker"/>
    <grant permission="bungeni.heading.Add" role="bungeni.Clerk"/>
    <grant permission="bungeni.heading.Add" role="bungeni.Speaker"/>
    <state id="inactive" title="Inactive heading obsolete">
        <!-- heading -->
        <grant permission="bungeni.heading.View" role="bungeni.Clerk"/>
        <grant permission="bungeni.heading.View" role="bungeni.Speaker"/>
        <deny permission="bungeni.heading.View" role="bungeni.Owner"/>
        <deny permission="bungeni.heading.View" role="bungeni.Signatory"/>
        <deny permission="bungeni.heading.View" role="bungeni.MP"/>
        <deny permission="bungeni.heading.View" role="bungeni.Minister"/>
        <deny permission="bungeni.heading.View" role="bungeni.Anonymous"/>
    </state>
    <state id="public" title="Public" like_state="inactive" tags="public tobescheduled">
        <!-- heading -->
        <grant permission="bungeni.heading.View" role="bungeni.Owner"/>
        <grant permission="bungeni.heading.View" role="bungeni.Signatory"/>
        <grant permission="bungeni.heading.View" role="bungeni.MP"/>
        <grant permission="bungeni.heading.View" role="bungeni.Minister"/>
        <grant permission="bungeni.heading.View" role="bungeni.Anonymous"/>
    </state>
    <transition title="Create" source="" destination="public" trigger="automatic"/>
    <transition title="Deactivate" source="public" destination="inactive" trigger="manual" roles="bungeni.Clerk bungeni.Speaker" require_confirmation="true"/>
    <transition title="Reactivate" source="inactive" destination="public" trigger="manual" roles="bungeni.Clerk bungeni.Speaker" require_confirmation="true"/>
</workflow>